!function t(e,r,o){function n(a,c){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(t){var r=e[a][1][t];return n(r?r:t)},l,l.exports,t,e,r,o)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}({1:[function(t,e,r){e.exports=function(t,e,r){"use strict";t.strategyName="Basic",t.login=function(){t.errMsg="",e.login(t.username,t.password).catch(function(e){e.data?(t.errMsg=e.data.message,console.error(e.data.stack)):t.errMsg="Bad API request: "+NGPASSPORT_CONF.API_BASE_URL+NGPASSPORT_CONF.URL_AFTER_SUCCESSFUL_LOGIN})},t.logout=function(){e.logout()}}},{}],2:[function(t,e,r){e.exports=function(t){"use strict";return function(e){var r={restrict:"E",replace:!0,controller:t,scope:{templateurl:"="},link:function(t,e,r){console.log("template-url: "+r.templateUrl)},compile:function(t,e){console.log("compile element: "+JSON.stringify(t,null,2)),console.log("compile attr: "+JSON.stringify(e,null,2))},templateUrl:function(t,e){return console.log("tAttrs"+JSON.stringify(e,null,2)),e.templateUrl||"formSimple.html"}};return r}}},{}],3:[function(t,e,r){e.exports=function(){"use strict";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(e){var r,o,n,i,a,c="",u="",s="",l=0;do r=e.charCodeAt(l++),o=e.charCodeAt(l++),u=e.charCodeAt(l++),n=r>>2,i=(3&r)<<4|o>>4,a=(15&o)<<2|u>>6,s=63&u,isNaN(o)?a=s=64:isNaN(u)&&(s=64),c=c+t.charAt(n)+t.charAt(i)+t.charAt(a)+t.charAt(s),r=o=u="",n=i=a=s="";while(l<e.length);return c},decode:function(e){var r,o,n,i,a,c="",u="",s="",l=0,f=/[^A-Za-z0-9\+\/\=]/g;f.exec(e)&&console.error("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do n=t.indexOf(e.charAt(l++)),i=t.indexOf(e.charAt(l++)),a=t.indexOf(e.charAt(l++)),s=t.indexOf(e.charAt(l++)),r=n<<2|i>>4,o=(15&i)<<4|a>>2,u=(3&a)<<6|s,c+=String.fromCharCode(r),64!=a&&(c+=String.fromCharCode(o)),64!=s&&(c+=String.fromCharCode(u)),r=o=u="",n=i=a=s="";while(l<e.length);return c}}}},{}],4:[function(t,e,r){e.exports=function(t,e,r,o,n,i,a){"use strict";var c={};return c.login=function(o,i){var a=o+":"+i,u=r.encode(a),s={headers:{Authorization:"Basic "+u}};return c.delCookie("authAPI"),t.get(e.API_BASE_URL+e.API_AUTH_PATHNAME,s).then(function(t){t.data.isSuccess&&(c.setCookie("authAPI",t.data.putLocally),e.URL_AFTER_SUCCESSFUL_LOGIN&&n.path(e.URL_AFTER_SUCCESSFUL_LOGIN))})},c.logout=function(){c.delCookie("authAPI"),a(function(){n.path(e.URL_AFTER_LOGOUT)},34)},c.setCookie=function(t,e){o.putObject(t,e)},c.getCookie=function(t){var e=o.getObject(t);return e?e:{username:"",authHeader:""}},c.delCookie=function(t){o.remove(t)},c.protectUIRouterState=function(t,e,r,o,n){t.preventDefault(),i.current.authRequired&&(c.isAuthenticated()||c.logout("/examples-spa/login/pageform"))},c.isAuthenticated=function(){return!!c.getCookie("authAPI")&&!!c.getCookie("authAPI").username},c}},{}],5:[function(t,e,r){e.exports=function(t){"use strict";var e={};return e.request=function(e){var r=t.get("basicAuth");return r.getCookie("authAPI").authHeader&&(e.headers.Authorization=r.getCookie("authAPI").authHeader),e},e.requestError=function(t){return t},e.response=function(t){return t},e.responseError=function(t){throw t},e}},{}],6:[function(t,e,r){var o=angular.module("ngPassport.basicStrategy",[]);o.config(function(t){"use strict";t.interceptors.push("interceptApiRequest")}),o.run(function(t,e){"use strict";t.$on("$stateChangeSuccess",e.protectUIRouterState)}),o.run(function(t){"use strict";t.put("formSimple.html",'<div><form> username: <input type="text" ng-model="username"> <br>password: <input type="password" ng-model="password"> <button type="button" ng-click="login()">Login</button></form>{{errMsg}}</div>')}),o.controller("NgPassportBasicCtrl",t("./controller/ngPassportBasicCtrl")),o.factory("basicAuth",t("./factory/basicAuth")),o.factory("base64",t("./factory/base64")),o.factory("interceptApiRequest",t("./factory/interceptApiRequest")),o.directive("ngpassportForm",t("./directive/ngpassportForm")("NgPassportBasicCtrl")),e.exports.ngPassportBasic=o,window.ngPassportBasic=o},{"./controller/ngPassportBasicCtrl":1,"./directive/ngpassportForm":2,"./factory/base64":3,"./factory/basicAuth":4,"./factory/interceptApiRequest":5}]},{},[6]);